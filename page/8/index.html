<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>日志记录</title><meta name="author" content="zyz"><meta name="copyright" content="zyz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="日志记录">
<meta property="og:url" content="http://zhengyazhao.github.io/page/8/index.html">
<meta property="og:site_name" content="日志记录">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="zyz">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://zhengyazhao.github.io/page/8/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '日志记录',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-01-24 13:59:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">97</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><hr/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/backgroud/beijing.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">日志记录</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">日志记录</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/09/30/2022-09-26-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%93%E6%9E%84%E5%9E%8B%EF%BC%881%EF%BC%89/" title="设计模式-结构型（1）"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-结构型（1）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/30/2022-09-26-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%93%E6%9E%84%E5%9E%8B%EF%BC%881%EF%BC%89/" title="设计模式-结构型（1）">设计模式-结构型（1）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-30T02:19:43.788Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">结构型模式的简介&amp;emsp;&amp;emsp;结构型模式之间特别相似，尤其是参与者和协作之间的相似性。
&amp;emsp;&amp;emsp;结构型模式涉及如何组合类和对象以获得更大的结构，采用继承机制来组合接口或实现
&amp;emsp;&amp;emsp;结构型对象模式不是对接口和实现进行组合，而是描述了如何对一些对象进行组合，从而实现新功能的一些方法
适配器模式和桥接模式
适配器为了解决两个已有接口之间不匹配的问题，考试接口怎样实现，不考虑各自可能会如何演化
对抽象接口与它的实现部分进行桥接。

结构型&amp;emsp;&amp;emsp;结构型模式介绍如何将对象和类组装成较大的结构， 并同时保持结构的灵活和高效。
适配器作用&amp;emsp;&amp;emsp;将一个类的接口转换成客户希望的另一个接口。&amp;emsp;&amp;emsp;使不兼容的对象能够相互合作
实现
新建一个适配器类，继承需要被适配类的接口
在类中转换成用户想要的结果，并返回

优点
符合单一职责
符合开闭原则
新添加的方法不需要去改动原来的方法
提高灵活性

缺点
系统凌乱

代码实现 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/09/30/2022-09-22-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E5%9E%8B%EF%BC%882%EF%BC%89/" title="设计模式-创建型（2）"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-创建型（2）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/30/2022-09-22-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E5%9E%8B%EF%BC%882%EF%BC%89/" title="设计模式-创建型（2）">设计模式-创建型（2）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-30T02:19:43.787Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">建造者模式(Builder)&amp;emsp;&amp;emsp;将一个复杂对象的构建与它的表示分离，使得同样的构建过程可以创建不同的表示
&amp;emsp;&amp;emsp;把对象创建的步骤分步来完成，例如人，有添加手机号方法、添加住址方法等，这种情况下你可以创建多个建造器，用不同的方式来实现一组相同的创建步骤。&amp;emsp;&amp;emsp;当你创建员工的时候需要添加手机号等信息&amp;emsp;&amp;emsp;当你创建用户的时候，不需要添加手机号等信息
好处
使你可以改变一个产品的内部表示
它将构造代码和表示代码分开

缺点
不符合开闭原则
符合单一职责，可以将复杂构造代码从产品的业务逻辑中分离出来
需要找到产品的共同点，范围有限制

代码演示12345678910111213141516171819202122232425262728293031public inteface MazeBuilder&#123;  void BuyildMaze();  void BuildRoom();  void BuildDor( int roomFrom, int r ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/09/30/2022-09-19-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E5%9E%8B%EF%BC%881%EF%BC%89/" title="设计模式-创建型（1）"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-创建型（1）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/30/2022-09-19-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%9B%E5%BB%BA%E5%9E%8B%EF%BC%881%EF%BC%89/" title="设计模式-创建型（1）">设计模式-创建型（1）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-30T02:19:43.786Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/">设计模式</a></span></div><div class="content">设计模式&amp;emsp;&amp;emsp;出发点不同会产生对什么是模式的理解不同，一个模式有四个基本要素

模式名称
问题
解决方案
效果

&amp;emsp;&amp;emsp;创建型模式与对象创建有关&amp;emsp;&amp;emsp;结构型模式处理类或对象的组合&amp;emsp;&amp;emsp;行为型模式对类或对象怎样交互和怎样分配职责进行描述
范围准则&amp;emsp;&amp;emsp;指定模式主要用于类还是用于对象&amp;emsp;&amp;emsp;类模式处理类和子类之间的关系,这些关系在运行时刻是可以变化的，更具动态性
创建型范围准则
类模式将对象的部分创建工作延迟到子类。
对象模式将它延迟到另一个对象中

结构型
类模式使用继承机制来组合类
对象模式描述了对象的组装方式

行为型
类模式使用继承机制来组合类
对象模式描述一组对象怎样协作完成单个对象所无法完成的任务

继承和组合&amp;emsp;&amp;emsp;继承父类的内部细节对子类可见&amp;emsp;&amp;emsp;组合对象的内部细节是不可见的，因为子类无法获取父类信息
继承优缺 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/09/30/2022-09-07-%E9%87%8D%E6%9E%84-%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E5%85%B3%E7%B3%BB%E5%A4%84%E7%90%86/" title="重构-条件表达式和关系处理(3)"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="重构-条件表达式和关系处理(3)"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/30/2022-09-07-%E9%87%8D%E6%9E%84-%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%92%8C%E5%85%B3%E7%B3%BB%E5%A4%84%E7%90%86/" title="重构-条件表达式和关系处理(3)">重构-条件表达式和关系处理(3)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-30T02:19:43.784Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%87%8D%E6%9E%84/">重构</a></span></div><div class="content">11.1 pull Up Filed(字段上移)&amp;emsp;&amp;emsp;两个字类拥有相同的字段，将该字段移动到超类.
动机
将重复字段提取到超类中
去除重复数据声明，并且可以将使用该字段的行为从字类移至超类，去除重复行为。

做法
检查所有调用该字段的地方，确认以同样的方式被使用
如何这些字段名称不同，先将他们改名，使每个名称都和超类想取的字段名称相同
编译测试
在付类新建一个字段
移除字类的字段

11.2 Pull Up Method(函数上移)&amp;emsp;&amp;emsp;在各个子类中产生完全相同的结果,将该函数移到超类。
动机
避免行为重复
常常伴随其他重构被使用
如果函数相似但不相同可以先借助 From Template Method(345)  构造相同函数,然后再提升他们。

做法
检查待提升函数，确保他们完全一致
如果这些函数看上去做了相同的事，但不完全一致可以使用 Substitute Algorithm(139) 让他们变得完全一致


在父类新建一个函数，将待提升的函数代码复制到器中
移除一个待提升的字类函数
编译测试

例子123456 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/09/30/2022-07-26-%E9%87%8D%E6%9E%84-%E4%BB%A3%E7%A0%81%E7%BB%84%E7%BB%87%E5%92%8C%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E6%90%AC%E7%A7%BB%E7%89%B9%E6%80%A7/" title="重构-代码组织和对象之间搬移特性（2）"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="重构-代码组织和对象之间搬移特性（2）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/30/2022-07-26-%E9%87%8D%E6%9E%84-%E4%BB%A3%E7%A0%81%E7%BB%84%E7%BB%87%E5%92%8C%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E6%90%AC%E7%A7%BB%E7%89%B9%E6%80%A7/" title="重构-代码组织和对象之间搬移特性（2）">重构-代码组织和对象之间搬移特性（2）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-30T02:19:43.781Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%87%8D%E6%9E%84/">重构</a></span></div><div class="content">6.1.Extract Method(提炼函数)&amp;emsp;&amp;emsp; 将一段代码组织在一起，并且独立成方法。
动机
函数过长
需要注释才能看懂用途的代码

好处
每个函数的粒度很小，那么被复用的机会就更大
函数阅读起来就像一系列注释
如果函数都是细粒度，那么函数的复写也会更容易

做法
创建一个新函数，并且根据函数的意图命名
检查是否存在作用域变量，需要从源函数提取到新函数中，并且声明变量
如果被提取的函数，参数是个对象可以将对象作为参数传递

疑问
如果重构的方法需要多个返回值：（挑选另一块代码重构）
临时变量多，可以采用Replace Temp with Query(查询代替临时变量)来减少临时变量。
如果这么做了还是困难,用 Relpace Method with Method Object(函数对象取代函数) 重构。


例子12345678910111213141516171819202122232425262728293031public  void PrintOwing()&#123;        Student  student=new Stude ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/09/30/2022-05-26-%E9%87%8D%E6%9E%84-%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E5%88%97%E8%A1%A8/" title="重构-重构方法列表(1)"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="重构-重构方法列表(1)"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/30/2022-05-26-%E9%87%8D%E6%9E%84-%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E5%88%97%E8%A1%A8/" title="重构-重构方法列表(1)">重构-重构方法列表(1)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-30T02:19:43.780Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%87%8D%E6%9E%84/">重构</a></span></div><div class="content">第6章 重新组织函数
6.1 (P110)Extract Method（提炼函数）
6.2 Inline Method（内联函数）117
6.3 Inline Temp（内联临时变量）119
6.4 Replace Temp with Query（以查询取代临时变量）120
6.5 Introduce Explaining Variable（引入解释性变量）124
6.6 Split Temporary Variable（分解临时变量）128
6.7 Remove Assignments to Parameters（移除对参数的赋值）131
6.8 Replace Method with Method Object（以函数对象取代函数）135
6.9 Substitute Algorithm（替换算法）139

第7章 在对象之间搬移特性141
7.1 Move Method（搬移函数）142
7.2 Move Field（搬移字段）146
7.3 Extract Class（提炼类）149
7.4 Inline Class（将类内联化）154
7.5 Hide Delegate（隐藏 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/08/25/2022-08-08-%E9%87%8D%E6%9E%84-%E9%87%8D%E6%9E%84%E4%B8%8E%E6%A8%A1%E5%BC%8F/" title="重构与模式-重构与模式（1）"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="重构与模式-重构与模式（1）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/08/25/2022-08-08-%E9%87%8D%E6%9E%84-%E9%87%8D%E6%9E%84%E4%B8%8E%E6%A8%A1%E5%BC%8F/" title="重构与模式-重构与模式（1）">重构与模式-重构与模式（1）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-08-25T09:50:00.000Z" title="发表于 2022-08-25 17:50:00">2022-08-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%87%8D%E6%9E%84/">重构</a></span></div><div class="content">重构&amp;emsp;&amp;emsp;重构应该是持续性的,而不是分阶段，并且分清楚轻重缓急。
代码坏味道重构的基本条件，以及那些点需要重构

重复性代码
过长的函数（方法）
过大的类
过长参数列
发散式变化
一种变化引发多个类的修改
类里多个方法存在相同的字段，参数
基本类型偏执
少用if switch
为一个类增加一个子类，也必须为另外一个类增加子类
消除无用的类
过度的考虑未发生的事情
令人迷惑的字段例如a&#x3D;1
过度耦合的消息链
过度的委托，比如某个方法的计算，改方法把大部分的
操作都交给中间类完成
类与类之间的关系应该解耦
两个类做的事情大致一样，此时需要把这两个类合并
避免贫血模式
过多的注释


动机
使新代码的增加更容易
改善现有代码的设计
对代码理解更透彻
提高编程的趣味性

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/07/21/2022-08-01-%E4%BB%A3%E7%A0%81-%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/" title="代码整洁之道"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="代码整洁之道"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/07/21/2022-08-01-%E4%BB%A3%E7%A0%81-%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/" title="代码整洁之道">代码整洁之道</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-07-21T09:50:00.000Z" title="发表于 2022-07-21 17:50:00">2022-07-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BB%A3%E7%A0%81/">代码</a></span></div><div class="content">命名
避免命名出现误导，做有意义的区分
使用读的出来的名称
每个概念对应一个词
使用可搜索的名称
使用领域中通用语言

函数
使用描述性的名称，不用担心名字长
函数参数不要超过2个
如果函数参数需要3个或3个以上参数，说明其中一些参数应该封装成类
使用异常代替返回错误码，错误处理代码就能从主路径代码分离
开始随意写 -&gt; 单元测试覆盖每行代码 -&gt; 分解函数、修改名称、消除重复 -&gt; 保持测试通过 -&gt; 优秀的函数
不要重复
try&#x2F;catch代码丑陋
使用异常代替返回错误码
分隔指令与询问
修改状态和验证应该单独写方法，保证单一职责
函数不超过100行，20行封顶最佳，并且注意格式和缩进


switch语句
确保每个switch都在较低的抽象层次，而且永远不重复



switch问题1234567891011121314public Money calculatePay(Employee e)&#123;  switch(e.type)  &#123;      case COMMISSONED:        return  calculate ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/04/02/2022-04-02-linux%E9%83%A8%E7%BD%B2k8s/" title="linux部署k8s"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux部署k8s"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/02/2022-04-02-linux%E9%83%A8%E7%BD%B2k8s/" title="linux部署k8s">linux部署k8s</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-02T09:50:00.000Z" title="发表于 2022-04-02 17:50:00">2022-04-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/k8s/">k8s</a></span></div><div class="content">基础配置内部环境关闭防火墙
正式环境开通需要用到的端口号
例外建议在主机上禁用SELinux,让容器可以读取主机文件系统
sudo swapoff -a
使用kubeadm工具快速安装K8s集群配置yum源。地址&#x2F;etc&#x2F;yum.repos.d&#x2F;kubernetes.repo的内容如下
cat &lt; &#x2F;etc&#x2F;yum.repos.d&#x2F;kubernetes.repo
[kubernetes]
name&#x3D;Kubernetes
baseurl&#x3D;http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64
enabled&#x3D;1
gpgcheck&#x3D;0
repo_gpgcheck&#x3D;0
gpgkey&#x3D;http://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg
​      http://mirrors.aliyun.com/kubernetes/yum ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/03/24/2022-03-24-netcore%E6%B7%BB%E5%8A%A0skywalking-apm%E6%8E%A2%E9%92%88/" title="netcore添加skywalking-apm探针"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="netcore添加skywalking-apm探针"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/24/2022-03-24-netcore%E6%B7%BB%E5%8A%A0skywalking-apm%E6%8E%A2%E9%92%88/" title="netcore添加skywalking-apm探针">netcore添加skywalking-apm探针</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-24T07:04:00.000Z" title="发表于 2022-03-24 15:04:00">2022-03-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a></span></div><div class="content">netcore添加skywalking&amp;emsp;&amp;emsp;新建netcore(skywalking apm 仅支持netcore3.1 以上版本)项目,找到项目文件路径中的Properties&#x2F;kaybcgSettings.json 
123456789101112131415161718192021222324252627282930313233&#123;  &quot;$schema&quot;: &quot;http://json.schemastore.org/launchsettings.json&quot;,  &quot;iisSettings&quot;: &#123;    &quot;windowsAuthentication&quot;: false,    &quot;anonymousAuthentication&quot;: true,    &quot;iisExpress&quot;: &#123;      &quot;applicationUrl&quot;: &quot;http://localhost:57258& ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/7/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/#content-inner">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/#content-inner">9</a><a class="page-number" href="/page/10/#content-inner">10</a><a class="extend next" rel="next" href="/page/9/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zyz</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">97</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">1</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">30</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://www.cnblogs.com/zhengyazhao/"><i class="fab fa-github"></i><span>郑亚招</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">记录日志</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/01/19/2024-01-19-redis-%E9%98%85%E8%AF%BB%E6%BA%90%E7%A0%81%E9%A1%BA%E5%BA%8F/" title="redis-阅读源码顺序"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="redis-阅读源码顺序"/></a><div class="content"><a class="title" href="/2024/01/19/2024-01-19-redis-%E9%98%85%E8%AF%BB%E6%BA%90%E7%A0%81%E9%A1%BA%E5%BA%8F/" title="redis-阅读源码顺序">redis-阅读源码顺序</a><time datetime="2024-01-18T16:00:00.000Z" title="发表于 2024-01-19 00:00:00">2024-01-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/19/2024-01-19-docker-none%E9%95%9C%E5%83%8F%E7%9A%84%E9%97%AE%E9%A2%98/" title="docker-none镜像的问题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker-none镜像的问题"/></a><div class="content"><a class="title" href="/2024/01/19/2024-01-19-docker-none%E9%95%9C%E5%83%8F%E7%9A%84%E9%97%AE%E9%A2%98/" title="docker-none镜像的问题">docker-none镜像的问题</a><time datetime="2024-01-18T16:00:00.000Z" title="发表于 2024-01-19 00:00:00">2024-01-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/17/2024-01-17-%E5%AE%89%E8%A3%85kafka%E5%B7%A5%E5%85%B7KnowStreaming/" title="安装kafka工具KnowStreaming"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="安装kafka工具KnowStreaming"/></a><div class="content"><a class="title" href="/2024/01/17/2024-01-17-%E5%AE%89%E8%A3%85kafka%E5%B7%A5%E5%85%B7KnowStreaming/" title="安装kafka工具KnowStreaming">安装kafka工具KnowStreaming</a><time datetime="2024-01-16T16:00:00.000Z" title="发表于 2024-01-17 00:00:00">2024-01-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/16/2024-01-16-redis%E9%9B%86%E7%BE%A4%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%AE%A1%E9%81%93%E6%8A%A5%E9%94%99%E7%9A%84%E9%97%AE%E9%A2%98/" title="redis集群中使用管道报错的问题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="redis集群中使用管道报错的问题"/></a><div class="content"><a class="title" href="/2024/01/16/2024-01-16-redis%E9%9B%86%E7%BE%A4%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%AE%A1%E9%81%93%E6%8A%A5%E9%94%99%E7%9A%84%E9%97%AE%E9%A2%98/" title="redis集群中使用管道报错的问题">redis集群中使用管道报错的问题</a><time datetime="2024-01-15T16:00:00.000Z" title="发表于 2024-01-16 00:00:00">2024-01-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/01/16/2024-01-16-%E8%B6%A3%E4%BA%8B%E5%9B%BD%E5%A4%96%E5%87%8F%E5%B0%91%E4%B8%BB%E4%BB%8E%E6%A6%82%E5%BF%B5/" title="趣事国外减少主从概念"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="趣事国外减少主从概念"/></a><div class="content"><a class="title" href="/2024/01/16/2024-01-16-%E8%B6%A3%E4%BA%8B%E5%9B%BD%E5%A4%96%E5%87%8F%E5%B0%91%E4%B8%BB%E4%BB%8E%E6%A6%82%E5%BF%B5/" title="趣事国外减少主从概念">趣事国外减少主从概念</a><time datetime="2024-01-15T16:00:00.000Z" title="发表于 2024-01-16 00:00:00">2024-01-16</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DDD/"><span class="card-category-list-name">DDD</span><span class="card-category-list-count">4</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/JAVA/"><span class="card-category-list-name">JAVA</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/TDD/"><span class="card-category-list-name">TDD</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/chatgpt/"><span class="card-category-list-name">chatgpt</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/database/"><span class="card-category-list-name">database</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ddd/"><span class="card-category-list-name">ddd</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/devops/"><span class="card-category-list-name">devops</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/docker/"><span class="card-category-list-name">docker</span><span class="card-category-list-count">3</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E5%AD%A6%E4%B9%A0/" style="font-size: 1.1em; color: #999">学习</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">9</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/11/"><span class="card-archive-list-date">十一月 2023</span><span class="card-archive-list-count">5</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/10/"><span class="card-archive-list-date">十月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">九月 2023</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><span class="card-archive-list-count">1</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">97</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-01-24T05:59:36.610Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2022 - 2024 By zyz</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>