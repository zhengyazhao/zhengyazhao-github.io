<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>zyz博客</title><meta name="author" content="zyz"><meta name="copyright" content="zyz"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="zyz博客">
<meta property="og:url" content="http://zhengyazhao.github.io/page/2/index.html">
<meta property="og:site_name" content="zyz博客">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png">
<meta property="article:author" content="zyz">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://zhengyazhao.github.io/page/2/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'zyz博客',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-09-30 11:55:00'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><hr/></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">zyz博客</a></span><div id="menus"><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">zyz博客</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2022/09/30/2022-07-26-%E9%87%8D%E6%9E%84-%E4%BB%A3%E7%A0%81%E7%BB%84%E7%BB%87%E5%92%8C%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E6%90%AC%E7%A7%BB%E7%89%B9%E6%80%A7/" title="重构-代码组织和对象之间搬移特性（3）"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="重构-代码组织和对象之间搬移特性（3）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/30/2022-07-26-%E9%87%8D%E6%9E%84-%E4%BB%A3%E7%A0%81%E7%BB%84%E7%BB%87%E5%92%8C%E5%AF%B9%E8%B1%A1%E4%B9%8B%E9%97%B4%E6%90%AC%E7%A7%BB%E7%89%B9%E6%80%A7/" title="重构-代码组织和对象之间搬移特性（3）">重构-代码组织和对象之间搬移特性（3）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-30T02:19:43.781Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%87%8D%E6%9E%84/">重构</a></span></div><div class="content">1.Extract Method(提炼函数)&amp;emsp;&amp;emsp; 将一段代码组织在一起，并且独立成方法。
动机
函数过长
需要注释才能看懂用途的代码

好处
每个函数的粒度很小，那么被复用的机会就更大
函数阅读起来就像一系列注释
如果函数都是细粒度，那么函数的复写也会更容易

做法
创建一个新函数，并且根据函数的意图命名
检查是否存在作用域变量，需要从源函数提取到新函数中，并且声明变量
如果被提取的函数，参数是个对象可以将对象作为参数传递

疑问
如果重构的方法需要多个返回值：（挑选另一块代码重构）
临时变量多，可以采用Replace Temp with Query(查询代替临时变量)来减少临时变量。
如果这么做了还是困难,用 Relpace Method with Method Object(函数对象取代函数) 重构。


例子12345678910111213141516171819202122232425262728293031public  void PrintOwing()&#123;        Student  student=new Student ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/09/30/2022-05-26-%E9%87%8D%E6%9E%84-%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E5%88%97%E8%A1%A8/" title="重构-重构方法列表(1)"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="重构-重构方法列表(1)"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/30/2022-05-26-%E9%87%8D%E6%9E%84-%E9%87%8D%E6%9E%84%E6%96%B9%E6%B3%95%E5%88%97%E8%A1%A8/" title="重构-重构方法列表(1)">重构-重构方法列表(1)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-30T02:19:43.780Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%87%8D%E6%9E%84/">重构</a></span></div><div class="content">第6章 重新组织函数
6.1 (P110)Extract Method（提炼函数）
6.2 Inline Method（内联函数）117
6.3 Inline Temp（内联临时变量）119
6.4 Replace Temp with Query（以查询取代临时变量）120
6.5 Introduce Explaining Variable（引入解释性变量）124
6.6 Split Temporary Variable（分解临时变量）128
6.7 Remove Assignments to Parameters（移除对参数的赋值）131
6.8 Replace Method with Method Object（以函数对象取代函数）135
6.9 Substitute Algorithm（替换算法）139

第7章 在对象之间搬移特性141
7.1 Move Method（搬移函数）142
7.2 Move Field（搬移字段）146
7.3 Extract Class（提炼类）149
7.4 Inline Class（将类内联化）154
7.5 Hide Delegate（隐藏 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/09/30/2022-04-20-%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86/" title="无题"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/09/30/2022-04-20-%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86/" title="无题">无题</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-30T02:19:43.778Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></span></div><div class="content">个人信息
郑亚招&#x2F;男&#x2F;1991
工作年限：8年
博客地址：https://zhengyazhao.github.io
博客园：https://www.cnblogs.com/zhengyazhao/

掌握技能
深刻理解领域驱动设计(DDD)、分布式应用开发、微服务相关
c#、java、delphi、golang
Linux、Docker、docker-swarm、k8s应用、部署、维护
了解tcp&#x2F;ip、icmp、arp、http、https等网络协议
数据结构和SqlServer、Mysql、Pgsql、ES等常用数据库
redis、kafka、apollo、Prometheus等常用第三方组件
敏捷工作流程

工作经历2019年9月-至今                         北京网学时代科技有限公司                     架构师
部门人数：32人（后端14人 产品3人  测试3人  前端6人  设计3人，运维1人）
职责： 

开发：分解需求，技术方案讨论、解决线上复杂问题
维护：维护jenkins、linux服务器、d ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/08/25/2022-08-08-%E9%87%8D%E6%9E%84-%E9%87%8D%E6%9E%84%E4%B8%8E%E6%A8%A1%E5%BC%8F/" title="重构与模式-重构与模式（1）"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="重构与模式-重构与模式（1）"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/08/25/2022-08-08-%E9%87%8D%E6%9E%84-%E9%87%8D%E6%9E%84%E4%B8%8E%E6%A8%A1%E5%BC%8F/" title="重构与模式-重构与模式（1）">重构与模式-重构与模式（1）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-08-25T09:50:00.000Z" title="发表于 2022-08-25 17:50:00">2022-08-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E9%87%8D%E6%9E%84/">重构</a></span></div><div class="content">重构&amp;emsp;&amp;emsp;重构应该是持续性的,而不是分阶段，并且分清楚轻重缓急。
代码坏味道重构的基本条件，以及那些点需要重构

重复性代码
过长的函数（方法）
过大的类
过长参数列
发散式变化
一种变化引发多个类的修改
类里多个方法存在相同的字段，参数
基本类型偏执
少用if switch
为一个类增加一个子类，也必须为另外一个类增加子类
消除无用的类
过度的考虑未发生的事情
令人迷惑的字段例如a&#x3D;1
过度耦合的消息链
过度的委托，比如某个方法的计算，改方法把大部分的
操作都交给中间类完成
类与类之间的关系应该解耦
两个类做的事情大致一样，此时需要把这两个类合并
避免贫血模式
过多的注释


动机
使新代码的增加更容易
改善现有代码的设计
对代码理解更透彻
提高编程的趣味性

</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/07/21/2022-08-01-%E4%BB%A3%E7%A0%81-%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/" title="代码整洁之道"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="代码整洁之道"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/07/21/2022-08-01-%E4%BB%A3%E7%A0%81-%E4%BB%A3%E7%A0%81%E6%95%B4%E6%B4%81%E4%B9%8B%E9%81%93/" title="代码整洁之道">代码整洁之道</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-07-21T09:50:00.000Z" title="发表于 2022-07-21 17:50:00">2022-07-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E4%BB%A3%E7%A0%81/">代码</a></span></div><div class="content">命名
避免命名出现误导，做有意义的区分
使用读的出来的名称
每个概念对应一个词
使用可搜索的名称
使用领域中通用语言

函数
使用描述性的名称，不用担心名字长
函数参数不要超过2个
如果函数参数需要3个或3个以上参数，说明其中一些参数应该封装成类
使用异常代替返回错误码，错误处理代码就能从主路径代码分离
开始随意写 -&gt; 单元测试覆盖每行代码 -&gt; 分解函数、修改名称、消除重复 -&gt; 保持测试通过 -&gt; 优秀的函数
不要重复
try&#x2F;catch代码丑陋
使用异常代替返回错误码
分隔指令与询问
修改状态和验证应该单独写方法，保证单一职责
函数不超过100行，20行封顶最佳，并且注意格式和缩进


switch语句
确保每个switch都在较低的抽象层次，而且永远不重复



switch问题1234567891011121314public Money calculatePay(Employee e)&#123;  switch(e.type)  &#123;      case COMMISSONED:        return  calculate ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/04/02/2022-04-02-linux%E9%83%A8%E7%BD%B2k8s/" title="linux部署k8s"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="linux部署k8s"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/04/02/2022-04-02-linux%E9%83%A8%E7%BD%B2k8s/" title="linux部署k8s">linux部署k8s</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-04-02T09:50:00.000Z" title="发表于 2022-04-02 17:50:00">2022-04-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/k8s/">k8s</a></span></div><div class="content">基础配置内部环境关闭防火墙
正式环境开通需要用到的端口号
例外建议在主机上禁用SELinux,让容器可以读取主机文件系统
sudo swapoff -a
使用kubeadm工具快速安装K8s集群配置yum源。地址&#x2F;etc&#x2F;yum.repos.d&#x2F;kubernetes.repo的内容如下
cat &lt; &#x2F;etc&#x2F;yum.repos.d&#x2F;kubernetes.repo
[kubernetes]
name&#x3D;Kubernetes
baseurl&#x3D;http://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64
enabled&#x3D;1
gpgcheck&#x3D;0
repo_gpgcheck&#x3D;0
gpgkey&#x3D;http://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg
​      http://mirrors.aliyun.com/kubernetes/yum ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/03/24/2022-03-24-netcore%E6%B7%BB%E5%8A%A0skywalking-apm%E6%8E%A2%E9%92%88/" title="netcore添加skywalking-apm探针"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="netcore添加skywalking-apm探针"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/24/2022-03-24-netcore%E6%B7%BB%E5%8A%A0skywalking-apm%E6%8E%A2%E9%92%88/" title="netcore添加skywalking-apm探针">netcore添加skywalking-apm探针</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-24T07:04:00.000Z" title="发表于 2022-03-24 15:04:00">2022-03-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a></span></div><div class="content">netcore添加skywalking&amp;emsp;&amp;emsp;新建netcore(skywalking apm 仅支持netcore3.1 以上版本)项目,找到项目文件路径中的Properties&#x2F;kaybcgSettings.json 
123456789101112131415161718192021222324252627282930313233&#123;  &quot;$schema&quot;: &quot;http://json.schemastore.org/launchsettings.json&quot;,  &quot;iisSettings&quot;: &#123;    &quot;windowsAuthentication&quot;: false,    &quot;anonymousAuthentication&quot;: true,    &quot;iisExpress&quot;: &#123;      &quot;applicationUrl&quot;: &quot;http://localhost:57258& ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/03/24/2022-03-24-spring-boot%E6%B7%BB%E5%8A%A0%E6%8E%A2%E9%92%88/" title="spring-boot添加探针"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="spring-boot添加探针"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/24/2022-03-24-spring-boot%E6%B7%BB%E5%8A%A0%E6%8E%A2%E9%92%88/" title="spring-boot添加探针">spring-boot添加探针</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-24T07:04:00.000Z" title="发表于 2022-03-24 15:04:00">2022-03-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a></span></div><div class="content">环境
spring-boot
skywalking-agent 8.7.0

1.下载skywalking安装包从skywalking官网下载安装包，下载完安装包之后里面在java的运行参数添加运行参数:
1-javaagent:F:/tools/test/apache-skywalking-apm-bin-es7/agent/skywalking-agent.jar



添加环境变量，之后运行即可
12345SW_AGENT_NAME=thesis;SW_AGENT_COLLECTOR_BACKEND_SERVICES=39.105.139.93:11800# SW_AGENT_NAME 服务名称# SW_AGENT_COLLECTOR_BACKEND_SERVICES oap服务地址# 11800 rpc端口号



配置完成之后的图片如下:

logback日志集成到skywalking中展示&amp;emsp;&amp;emsp;在skywalking8.4.0以上的版本当中支持展示日志，所以把日志内容也集成到skywalking当中了。
&amp;emsp;&amp;ems ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2022/03/24/%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/" title="DDD-上下文关系映射"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="DDD-上下文关系映射"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/24/%E4%B8%8A%E4%B8%8B%E6%96%87%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB/" title="DDD-上下文关系映射">DDD-上下文关系映射</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-24T07:04:00.000Z" title="发表于 2022-03-24 15:04:00">2022-03-24</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/DDD/">DDD</a></span></div><div class="content">上下文之间的关系
防腐层（ANTICORRUPTION LAYER）
新系统与另一个系统对接，为了克服两个模型的不同
新系统从老系统获取数据，为了避免破坏数据库，需要转换成新系统模型对应的数据


共享内核(SHARED KERNEL)
两个上下文依赖部分共享的模型


开发宿主服务（OPEN HOST SERVICE）
子系统与大量其他系统集成时，提供一个统一的协议，供所有子系统使用
当有新的集成需求，就增强并扩展这个协议


分道扬镳（SEPARATE WAY）
不需要集成一起


合作关系
两个上下文紧密合作的关系，一荣俱荣，一损俱损。


上下游关系
客户&#x2F;供应商  (CUSTOMER&#x2F;SUPPLIER DEVELOPMENT TEAM)
遵从者(CONFORMIST)



2.分析模型和代码模型的区别3.应用DDD的原则
​	1.理解业务愿景
 捕获所需的行为
 质疑假设
 持续建模
 不存在错误的模型

</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2022/03/21/2022-03-21-centos-%E9%83%A8%E7%BD%B2skywalking/" title="centos部署skywalking"><img class="post_bg" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="centos部署skywalking"></a></div><div class="recent-post-info"><a class="article-title" href="/2022/03/21/2022-03-21-centos-%E9%83%A8%E7%BD%B2skywalking/" title="centos部署skywalking">centos部署skywalking</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-21T09:50:00.000Z" title="发表于 2022-03-21 17:50:00">2022-03-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/linux/">linux</a></span></div><div class="content">简介&amp;emsp;&amp;emsp;在分布式系统当中,想要监控服务与服务之间调用耗时,或者是查问题的时候,不能像向单机那种形式去查询.查找了一段时间发现目前市场上用的是skywalking,由华为大佬开源的项目。
摘自skywalking简介:一个开放源代码的可观察性平台，用于收集，分析，聚合和可视化来自服务和云本机基础结构的数据&amp;emsp;&amp;emsp;SkyWalking为服务，服务实例，端点提供可观察性功能。服务，实例和端点这两个术语在今天到处都有使用，因此值得在SkyWalking的上下文中定义它们的特定含义

服务:表示一组&#x2F;一组工作负载，这些工作负载为传入请求提供相同的行为。您可以在使用乐器代理或SDK时定义服务名称。SkyWalking也可以使用您在Istio等平台中定义的名称。
服务实例：服务组中的每个单独工作负载都称为实例。像pods在Kubernetes中一样，它不必是单个OS进程，但是，如果您使用仪器代理，则实例实际上是一个真正的OS进程。
端点：服务中用于传入请求的路径，例如HTTP URI路径或gRPC服务类+方法签名。

&a ...</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/#content-inner">3</a><a class="page-number" href="/page/4/#content-inner">4</a><a class="extend next" rel="next" href="/page/3/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">zyz</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">12</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://www.cnblogs.com/zhengyazhao/"><i class="fab fa-github"></i><span>郑亚招</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">记录日志</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/09/30/%E5%BA%94%E7%94%A8%E7%BB%9F%E8%AE%A1/" title="无题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2022/09/30/%E5%BA%94%E7%94%A8%E7%BB%9F%E8%AE%A1/" title="无题">无题</a><time datetime="2022-09-30T02:19:43.797Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/30/%E6%9C%AA%E5%91%BD%E5%90%8D/" title="无题"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="无题"/></a><div class="content"><a class="title" href="/2022/09/30/%E6%9C%AA%E5%91%BD%E5%90%8D/" title="无题">无题</a><time datetime="2022-09-30T02:19:43.796Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/30/docker%E9%95%9C%E5%83%8F%E5%86%99%E6%97%B6%E5%A4%8D%E5%88%B6/" title="docker-镜像写时复制"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="docker-镜像写时复制"/></a><div class="content"><a class="title" href="/2022/09/30/docker%E9%95%9C%E5%83%8F%E5%86%99%E6%97%B6%E5%A4%8D%E5%88%B6/" title="docker-镜像写时复制">docker-镜像写时复制</a><time datetime="2022-09-30T02:19:43.793Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/30/2022-09-29-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%93%E6%9E%84%E5%9E%8B%EF%BC%882%EF%BC%89/" title="设计模式-结构型（2）"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式-结构型（2）"/></a><div class="content"><a class="title" href="/2022/09/30/2022-09-29-%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%93%E6%9E%84%E5%9E%8B%EF%BC%882%EF%BC%89/" title="设计模式-结构型（2）">设计模式-结构型（2）</a><time datetime="2022-09-30T02:19:43.792Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/09/30/2022-09-29-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%A6%82%E8%AE%BA(1)/" title="计算机组成原理-概论（1）"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="计算机组成原理-概论（1）"/></a><div class="content"><a class="title" href="/2022/09/30/2022-09-29-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-%E6%A6%82%E8%AE%BA(1)/" title="计算机组成原理-概论（1）">计算机组成原理-概论（1）</a><time datetime="2022-09-30T02:19:43.790Z" title="发表于 2022-09-30 10:19:43">2022-09-30</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            <a class="card-more-btn" href="/categories/" title="查看更多">
    <i class="fas fa-angle-right"></i></a>
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/DDD/"><span class="card-category-list-name">DDD</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/TDD/"><span class="card-category-list-name">TDD</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/database/"><span class="card-category-list-name">database</span><span class="card-category-list-count">3</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ddd/"><span class="card-category-list-name">ddd</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/docker/"><span class="card-category-list-name">docker</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/k8s/"><span class="card-category-list-name">k8s</span><span class="card-category-list-count">5</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/linux/"><span class="card-category-list-name">linux</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/redis/"><span class="card-category-list-name">redis</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">13</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/08/"><span class="card-archive-list-date">八月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/04/"><span class="card-archive-list-date">四月 2022</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">4</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/01/"><span class="card-archive-list-date">一月 2022</span><span class="card-archive-list-count">6</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">32</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-09-30T03:55:00.162Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By zyz</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>